<style>
    div.gallery {
        border: 1px solid #ccc;
        position: relative;
        margin-top: 10px;
    }

        div.gallery:hover {
            border: 1px solid #777;
        }

        div.gallery img {
            width: 100%;
            height: auto;
            max-height: 200px;
        }

    div.desc {
        padding: 15px;
        text-align: left;
        overflow-wrap: break-word;
    }

    * {
        box-sizing: border-box;
    }
</style>
<div @key="Project.Id" class="col col-lg-3 col-md-6 col-sm-12">
    @if (Project.FirstImageData == null || Project.FirstImageData.Length == 0)
    {

        <div class="gallery">
            <a href="/">
                <img src="/Images/v70.2.jpg" alt="Image">
            </a>
            <div class="desc">
                <h5>@Project.Title</h5>
                <p>@SubstringDescription(Project.Description)</p>
            </div>
        </div>
        <div class="row">
            <button class="btn btn-light">Edit</button>
            <button class="btn btn-danger">Delete</button>
        </div>
    }
    else
    {
        <div class="gallery">
            <a href="@projectUrl">
                <img src="data:image/jpeg;base64,@Convert.ToBase64String(Project.FirstImageData)" alt="Image">
            </a>
            <div class="desc">
                <h5>@Project.Title</h5>
                <p>@SubstringDescription(Project.Description)</p>
            </div>
        </div>
        <div class="row">
            <button class="btn btn-light">Edit</button>
            <button class="btn btn-danger" @onclick="(()=>DeleteProject.InvokeAsync(Project))">Delete</button>
        </div>
    }
</div>

@code {
    [Parameter] public ProjectOutDto Project { get; set; }
    [Parameter] public EventCallback<ProjectOutDto> DeleteProject { get; set; }
    private string projectUrl = string.Empty;

    protected override void OnInitialized()
    {
        projectUrl = $"projects/{Project.Id}";
    }

    private string SubstringDescription(string description)
    {
        if (description.Length > 59)
        {
            return description.Substring(0, 60) + "...";
        }
        else
        {
            return description;
        }
    }

}
